@using PetitesPuces.Models
@using PetitesPuces.Utilities
@model List<PetitesPuces.Models.Panier>

@{
    ViewBag.Title = "Vos paniers";
    ViewBag.Vendeur = "Simon";
    ViewBag.SousTotal = 323.45;
    ViewBag.FraisLivraison = 23.00;
}
@section scripts {
    <link href="@Url.Content("/Content/Shared/Carousel.css")" rel="stylesheet" id="Carousel-css">
    <link href="@Url.Content("/Content/Shared/Hover.css")" rel="stylesheet" id="Hover-css">
    <script type="text/javascript" src="@Url.Content("/Scripts/Shared/Carousel.js")"></script>
}
<script>
    function plusQuantite(id) {
        $("#" + id).val(parseInt($("#" + id).val())+1);
    }
    function moinsQuantite(id) {
        if($("#" + id).val()>=1)
            $("#" + id).val(parseInt($("#" + id).val())-1);
    }
</script>
<div class="jumbotron jumbotron-fluid">
    <div class="container">
        <h2>Mes paniers</h2>
        <div class="MultiCarousel" data-items="1,3,5,6" data-slide="5" id="CarouselPaniers" data-interval="1000">
            <div class="MultiCarousel-inner">
                @foreach(Panier p in Model)
                {
                    @Html.Partial("Client/_PaniersCarousel",p)
                }

            </div>
            <button class="btn btn-primary leftLst"><</button>
            <button class="btn btn-primary rightLst">></button>
        </div>
    </div>
</div>
<div class="container">
    <div id="PLACEHOLDERDetailPanier">
        @Html.Partial("Client/_DetailPanier",@Model.FirstOrDefault())
    </div>
</div>
@Html.Partial("_ModalConfirmation",new HtmlString("<p>Êtes-vous sûr de vouloir commander ces articles?</p><br/><p>Vous aurez la chance de annuler la commande passé ce point.</p>"))

<script>
    function changePanier(no) {
        $.ajax({
            url: URLPATH+"/Client/DetailPanier",
            type: "get",
            data: { 
                "NoVendeur": no
            },
            success: function (result) {
                $("#PLACEHOLDERDetailPanier").html(result);
            },
            error: function (req, status, err) {
                $("#PLACEHOLDERDetailPanier").html("@Html.Partial("_ErrorAlert")");
            }
        });
    }
</script>